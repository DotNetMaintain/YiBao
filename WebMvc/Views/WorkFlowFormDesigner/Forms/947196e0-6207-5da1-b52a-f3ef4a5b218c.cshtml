@{
	string FlowID = Request.QueryString["flowid"];
	string StepID = Request.QueryString["stepid"];
	string GroupID = Request.QueryString["groupid"];
	string TaskID = Request.QueryString["taskid"];
	string InstanceID = Request.QueryString["instanceid"];
	string DisplayModel = Request.QueryString["display"] ?? "0";
	string DBConnID = "06075250-30dc-4d32-bf97-e922cb30fac8";
	string DBTable = "Factor";
	string DBTablePK = "ID";
	string DBTableTitle = "Title";
	Business.Platform.Dictionary BDictionary = new Business.Platform.Dictionary();
	Business.Platform.WorkFlow BWorkFlow = new Business.Platform.WorkFlow();
	Business.Platform.WorkFlowTask BWorkFlowTask = new Business.Platform.WorkFlowTask();
	string fieldStatus = BWorkFlow.GetFieldStatus(FlowID, StepID);
	LitJson.JsonData initData = BWorkFlow.GetFormData(DBConnID, DBTable, DBTablePK, InstanceID, fieldStatus);
	string TaskTitle = BWorkFlow.GetFromFieldData(initData, DBTable, DBTableTitle);
}
<link href="~/Scripts/FlowRun/Forms/flowform.css" rel="stylesheet" type="text/css" />
<script src="~/Scripts/FlowRun/Forms/common.js" type="text/javascript" ></script>
<input type="hidden" id="Form_ValidateAlertType" name="Form_ValidateAlertType" value="1" />
<input type="hidden" id="Factor.Title" name="Factor.Title" value="@(TaskTitle.IsNullOrEmpty() ? BWorkFlow.GetAutoTaskTitle(FlowID, StepID, Request.QueryString["groupid"]) : TaskTitle)" />
<input type="hidden" id="Form_TitleField" name="Form_TitleField" value="Factor.Title" />
<input type="hidden" id="Form_DBConnID" name="Form_DBConnID" value="06075250-30dc-4d32-bf97-e922cb30fac8" />
<input type="hidden" id="Form_DBTable" name="Form_DBTable" value="Factor" />
<input type="hidden" id="Form_DBTablePk" name="Form_DBTablePk" value="ID" />
<input type="hidden" id="Form_DBTableTitle" name="Form_DBTableTitle" value="Title" />
<input type="hidden" id="Form_AutoSaveData" name="Form_AutoSaveData" value="1" />
<script type="text/javascript">
	var initData = @Html.Raw(BWorkFlow.GetFormDataJsonString(initData));
	var fieldStatus = @Html.Raw(fieldStatus);
	var displayModel = '@DisplayModel';
	$(function (){
		formrun.initData(initData, "Factor", fieldStatus, displayModel);
	});
</script>
<p><br/></p><p style="text-align: center;"><span style="font-family: 黑体, SimHei; font-size: 26px;">绩效系统设定</span></p><p><span style="font-family: 黑体, SimHei; font-size: 26px;"><br/></span></p><p><br/></p><table class="flowformtable" cellspacing="1" cellpadding="0"><tbody><tr class="firstRow"><td width="1139" valign="top"><table class="flowformsubtable" id="subtable_Factor_List_ID_ID_FactorID" style="margin: 0px auto; width: 99%;" cellspacing="1" cellpadding="0" issubflowtable="1"><thead><tr><td>系数名称<input name="flowsubtable_id" type="hidden" value="Factor_List_ID_ID_FactorID"/><input name="flowsubtable_Factor_List_ID_ID_FactorID_secondtable" type="hidden" value="Factor_List"/><input name="flowsubtable_Factor_List_ID_ID_FactorID_primarytablefiled" type="hidden" value="ID"/><input name="flowsubtable_Factor_List_ID_ID_FactorID_secondtableprimarykey" type="hidden" value="ID"/><input name="flowsubtable_Factor_List_ID_ID_FactorID_secondtablerelationfield" type="hidden" value="FactorID"/></td><td>系数值</td><td></td></tr></thead><tbody><tr type1="listtr"><td iscount="0" colname="Factor_List_Factor_Name"><input name="hidden_guid_Factor_List_ID_ID_FactorID" type="hidden" value="b2fe76ee04cdcfb4f284b77f0d2c88ff"/><input name="flowsubid" type="hidden" value="Factor_List_ID_ID_FactorID"/><input name="Factor_List_ID_ID_FactorID_b2fe76ee04cdcfb4f284b77f0d2c88ff_Factor_List_Factor_Name" class="mytext" id="Factor_List_ID_ID_FactorID_b2fe76ee04cdcfb4f284b77f0d2c88ff_Factor_List_Factor_Name" type="text" value="" type1="subflow_text" colname="Factor_List_Factor_Name" valuetype="0" issubflow="1"/></td><td iscount="0" colname="Factor_List_Factor_Values"><input name="Factor_List_ID_ID_FactorID_b2fe76ee04cdcfb4f284b77f0d2c88ff_Factor_List_Factor_Values" class="mytext" id="Factor_List_ID_ID_FactorID_b2fe76ee04cdcfb4f284b77f0d2c88ff_Factor_List_Factor_Values" type="text" value="" type1="subflow_text" colname="Factor_List_Factor_Values" valuetype="2" issubflow="1"/></td><td><input class="mybutton" style="margin-right: 4px;" onclick="formrun.subtableNewRow(this);" type="button" value="增加"/><input class="mybutton" onclick="formrun.subtableDeleteRow(this);" type="button" value="删除"/></td></tr></tbody></table></td></tr></tbody></table><p><span style="font-family: 黑体, SimHei; font-size: 26px;"><br/></span></p>